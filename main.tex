\documentclass[a4paper,8pt]{article}
\usepackage{listings}
\usepackage{xcolor}
\usepackage{fancyhdr} % For headers and footers
\usepackage{lastpage} % For total page count
\usepackage{lipsum} % For placeholder text
\usepackage{geometry}
\usepackage{textcomp}
\usepackage{amsmath}
\usepackage{blindtext}
\usepackage{float}
\usepackage{indentfirst}
\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{mathtools}
\usepackage{hyperref}
\usepackage{xcolor}
\hypersetup{
    colorlinks,
    linkcolor={blue!50!black},
    citecolor={blue!50!black},
    urlcolor={blue!80!black}
}

\usepackage{array}

\usepackage[T2A]{fontenc}
\usepackage[english, russian]{babel}
\usepackage[utf8]{inputenc}
\usepackage{tocloft}         % Пакет для настройки оглавления

\renewcommand{\cftsecleader}{\cftdotfill{2}} % Добавляем точки для секций
\renewcommand{\cftsubsecleader}{\cftdotfill{2}} % Добавляем точки для подсекций
\renewcommand{\cftbeforesubsecskip}{1em} 
\renewcommand{\cftsecindent}{2em}    % Отступ для секций
\renewcommand{\cftsubsecindent}{3em}  % Отступ для подсекций
\renewcommand{\cftsubsubsecleader}{\cftdotfill{2}} % Добавляем точки для подподсекций
\renewcommand{\cftbeforesubsubsecskip}{1em} 
\renewcommand{\cftsubsubsecindent}{4em}  % Отступ для подподсекций

% Page settings
\geometry{top=3cm, bottom=2.5cm, left=2.5cm, right=2.5cm}

% Header and footer setup
\pagestyle{fancy}
\fancyhf{} % Clear all header and footer fields

% Header
\fancyhead[L]{}
\fancyhead[R]{Страница \thepage\ из \pageref{LastPage}}



\lstset{
    language=C++,
    basicstyle=\ttfamily\small,
    keywordstyle=\color{blue}\bfseries,
    stringstyle=\color{orange},
    commentstyle=\color{gray}\itshape,
    numbers=left,
    numberstyle=\tiny\color{gray},
    stepnumber=1,
    numbersep=8pt,
    showstringspaces=false,
    frame=single,
    tabsize=4,
    inputencoding=utf8,           % кодировка входного файла
    extendedchars=true,
    captionpos=b,
    breakatwhitespace=true,         % sets if automatic breaks should only happen at whitespace
    breaklines=true,
     float   
}

\begin{document}

\title{Краткий экскурс по основным алгоритмам и структурам данных спортивного программирования}
\date{\today}
\maketitle
\newpage
\tableofcontents
\newpage

\section{Введение}
    \subsection{Кратко о спортивном программировании}
\section{Асимптотика} 
\section{Базовая матчасть}
    \input{basic_mathematics/binary_exponentiation/part.tex}
    \input{basic_mathematics/modulo_calculations/part.tex}
    \input{basic_mathematics/xor/part.tex}
    \input{basic_mathematics/euclid_algo/part.tex}
    \subsection{Решето Эратосфена}
\section{Стандартные контейнеры}
    \subsection{vector}
    \subsection{list}
    \subsection{set}
    \subsection{unordered\_set}
    \subsection{map}
    \subsection{unordered\_map}
\section{Структуры данных}
    \subsection{Префиксные суммы}
    \subsection{Дерево отрезков}
    \subsection{Система непересекающихся множеств}
    \subsection{Бор}
\section{Графы}
    \subsection{Обход графа}
    \subsection{Кратчайший путь}
\section{Строки}
    \subsection{Полиномиальные хеши}
\section{Разбиение на подзадачи}
    \subsection{Рекурсия}
    \subsection{Мемоизация}
    \subsection{Динамическое программирование}
        \subsubsection{ДП по маскам}
        \subsubsection{ДП по подотрезкам}
        \subsubsection{ДП по поддеревьям}
\section{Это не всё}

\end{document}